<!-- Animated Realms Section -->
<div
  class="container-fluid bg-black"
  style="padding-bottom: 9%"
  *ngIf="animatedRealms"
>
  <div class="row">
    <div class="col-12 col-lg-5 offset-lg-1">
      <div>
        <ngb-carousel
          [showNavigationArrows]="false"
          [showNavigationIndicators]="false"
        >
          <ng-template
            ngbSlide
            *ngFor="let slide of animatedRealms?.carouselImages"
          >
            <img
              [src]="slide"
              alt="3d Model"
              class="swiper-slide-image lazyloaded img-fluid"
              decoding="async"
            />
          </ng-template>
        </ngb-carousel>
      </div>
    </div>
    <div class="col-lg-4 col-12 ps-lg-4 mt-3">
      <div class="elementor-widget-wrap">
        <div class="elementor-element">
          <div class="section-title">
            <span class="sub-title">{{ animatedRealms.subTitle }}</span>
            <h1 class="text-white text-capitalize fw-bold mt-1">
              {{ animatedRealms.title }}
            </h1>
            <p style="font-size: 1.1rem" class="grey fw-bold mt-3">
              {{ animatedRealms.description }}
            </p>
          </div>
        </div>
        <div class="mt-4">
          <button
            class="btn rounded-pill btn-dark text-white fw-bolder border col-6 col-md-3 col-lg-4 py-3 text-uppercase"
            [routerLink]="animatedRealms.buttonLink"
          >
            {{ animatedRealms.buttonText }}
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-1 d-none d-lg-block"></div>
    <div
      class="col-12 col-md-6 col-lg mt-3"
      *ngFor="let heading of animatedRealms.headings; let i = index"
    >
      <div>
        <!-- Heading with click event -->
        <div
          (click)="toggleTextVisibility(i)"
          class="d-flex align-items-center justify-content-between"
        >
          <span
            class="text-white green-line fw-bold pointer-event"
            [ngClass]="{ active: !textVisible[i] }"
            >{{ heading }}</span
          >
        </div>
        <!-- Conditionally render the text with animation -->
        <div
          class="elementor-element"
          [@dropdownAnimation]="textVisible[i] ? 'collapsed' : 'expanded'"
        >
          <p class="fw-bold fs-5 mt-2">
            {{
              animatedRealms.texts ? animatedRealms.texts[i] : "Default Text"
            }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Fallback for entire section if data is not available -->
<div *ngIf="!animatedRealms" class="container-fluid bg-black">
  <div class="row justify-content-center">
    <div class="col-lg-8 text-center text-danger">
      <h2 class="fw-bold">Acquire Section Data Not Available</h2>
      <p>
        Sorry, there are no items available for the acquire section at the
        moment.
      </p>
    </div>
  </div>
</div>
